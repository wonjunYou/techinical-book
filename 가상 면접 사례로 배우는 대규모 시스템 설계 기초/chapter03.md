# 시스템 설계 면접 공략법

## 효과적 면접을 위한 4단계 접근법

### 1단계 : 문제 이해 및 설계 범위 확정

* 요구사항과 가정을 분명히 하고 나서 천천히 설계를 해야 한다.
* 요구사항을 정확히 이해하는 데 필요한 질문을 하라.
  * 구체적으로 어떠한 기능들을 만들어야 하는가?
  * 제품 사용자 수는 얼마나 되는가?
  * 회사의 규모가 얼마나 빠르게 성장할지? 주로 사용하는 기술 스택?

### 예제 : 뉴스 피드 시스템을 설계하라.

* 모바일 앱/웹 중 어느 쪽을 지원 & 혹은 둘다 지원해야 하는가?
* 가장 중요한 기능은 무엇인가?
* 뉴스 피드의 정렬 기준?
* 한 사용자는 최대 몇 명의 사용자와 친구를 맺을 수 있는가?
* 트래픽 규모는 어느 정도인가?
* 피드에 이미지/비디오가 포함되는가

### 2단계 : 개력적인 설계안 제시 및 동의 구하기

* 설계안에 대한 최초 청사진을 제시하고 의견을 구하라. 면접관을 팀원처럼 생각하자.
* 화이트보드에 다이어그램을 그리자
* 시스템 규모와 관련된 제약사항들을 만족하는지 계산하라. 이때 계산 과정은 소리내어 설명하라.

* 실제 예제에서는 피드 발행과 피드 생성 두 가지의 flow를 나누어 그림.(44p)

### 3단계 : 상세 설계
* 설계 대상 컴포넌트의 우선순위를 정해야 한다. 즉, 내가 집중했으면 하는 영역이 필요하다.
* 시스템의 성능 특성에 대한 질문(시스템의 병목 구간이나 자원 요구량 추정치)

### 4단계 : 마무리
* 개선할 점을 찾아내라고 할 때, 제시해야 한다.
* 설계를 요약, 운영 이슈 등

### 해야 할 것
* 질문을 통해 확인하기, 스스로 내린 가정이 옳다고 진행하지 말 것.
* 문제의 요구사항 이해, 정답은 없다.
* 면접관이 우리의 사고 흐름을 이해할 수 있도록 소통하라.
* 가능하다면 여러 해법을 함께 제시하면 좋다.
* 개략적 설계에 면접관이 동의하면, 가장 중요한 컴포넌트부터 세부사항을 설명하기 시작하라.

### 하지 말야야 할 것.
* 빈출 문제들은 미리 대비하라
* 요구사항과 가정을 분명히 하지 않고 설계를 제시하지 말라
* 처음부터 세부 컴포넌트를 디테일하게 설명
* 힌트를 청하기를 주저하지 말라.
* 소통을 주저하지 말라. 침묵속에 설계를 하지 마라
* 설계안을 내놓고 나서 면접이 끝이라고 생각하지 말고, 의견을 일찍, 자주 구해야 함.

### 참고하면 좋을 것 같은 레퍼런스
* https://hudi.blog/distributed-lock-with-redis/
* https://hyperconnect.github.io/2019/11/15/redis-distributed-lock-1.html
* https://helloworld.kurly.com/blog/distributed-redisson-lock/